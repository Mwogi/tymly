{
  "plural": "flobots",

  "description": "Current Flobots",
  "type": "object",

  "indexes": [
    {
      "columns": ["userId"],
      "unique": false
    },
    {
      "columns": ["flowId"],
      "unique": false
    }
  ],

  "primaryKey": [
    "flobotId"
  ],


  "properties": {

    "flobotId": {
      "type": "uuid"
    },

    "instigatingClient": {
      "type": "object",
      "properties": {
        "appName": {
          "type": "string"
        },
        "domain": {
          "type": "string"
        },
        "vendor": {
          "type": "object"
        }
      },
      "required": ["appName", "domain"]
    },

    "status": {
      "type": "string",
      "enum": ["starting", "running", "waitingForHumanInput", "finished"]
    },

    "stateId": {
      "type": "string"
    },

    "userId": {
      "type": "string"
    },

    "stateEnterTime": {
      "type": "string",
      "format": "date-time"
    },

    "flowId": {
      "type": "string"
    },

    "ctx": {
      "type": "object"
    }

  },

  "required": ["clientInfo", "status", "flowId"]

}
