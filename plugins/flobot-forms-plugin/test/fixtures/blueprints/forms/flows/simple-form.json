{
  "name": "simpleForm",
  "description": "A flow to help illustrate a user completing a simple form",
  "version": "1.0",
  "instigators": [
    "user"
  ],
  "initialStateId": "findingOne",
  "initialCtx": {},
  "fsm": {
    "findingOne": {
      "options": {
        "modelId": "simpleForm",
        "target": "commentData",
        "where": {
          "email": {
            "equals": {
              "$value": {
                "path": "key.email"
              }
            }
          }
        }
      },
      "events": {
        "next": {
          "to": "formFilling"
        }
      }
    },
    "formFilling": {
      "options": {
        "formId": "simpleForm",
        "target": "commentData"
      },
      "events": {
        "submit": {
          "to": "upserting"
        }
      }
    },
    "upserting": {
      "options": {
        "modelId": "simpleForm",
        "doc": {
          "$value": {
            "path": "commentData"
          }
        }
      }
    }
  }
}
